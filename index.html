<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerador Scripts</title>

<style>
body{
    margin:0;
    background:#0f0f0f;
    font-family:Arial;
    color:white;
}

.container{
    max-width:600px;
    margin:auto;
    padding:20px;
}

h1{
    text-align:center;
    color:#00ffcc;
}

input,textarea{
    width:100%;
    margin:5px 0;
    padding:8px;
    border-radius:8px;
    border:none;
}

button{
    width:100%;
    padding:10px;
    margin-top:5px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
}

.generate{ background:#00ffcc; }
.add{ background:#4444ff; }
.copy{ background:#ffaa00; }
.download{ background:#00aa44; }

textarea{
    height:250px;
    background:#1a1a1a;
    color:#00ffcc;
}

.functionBox{
    background:#1a1a1a;
    padding:10px;
    border-radius:8px;
    margin-top:10px;
    position:relative;
}

.removeBtn{
    background:#ff4444;
    margin-top:5px;
}
</style>
</head>
<body>

<div class="container">
<h1>Lua Script Generator ULTRA</h1>

<input type="text" id="scriptName" placeholder="Nome do Script">
<input type="text" id="author" placeholder="Autor">

<h3>Funções:</h3>
<div id="functions"></div>

<button class="add" onclick="addFunction()">Adicionar Função</button>
<button class="generate" onclick="generate()">Gerar Script</button>
<button class="copy" onclick="copyScript()">Copiar</button>
<button class="download" onclick="downloadScript()">Baixar .lua</button>

<textarea id="output" placeholder="Seu script aparecerá aqui..."></textarea>

</div>

<script>

function addFunction(){

let div = document.createElement("div");
div.className = "functionBox";

div.innerHTML = `
<input type="text" placeholder="Nome da Função" class="functionName">
<textarea placeholder="Código interno da função (opcional)"></textarea>
<button class="removeBtn" onclick="removeFunction(this)">Remover Função</button>
`;

document.getElementById("functions").appendChild(div);
}

function removeFunction(button){
button.parentElement.remove();
}

function generate(){

let name = document.getElementById("scriptName").value || "Meu Script";
let author = document.getElementById("author").value || "Desconhecido";

let script = `-- ${name}
-- Autor: ${author}
-- Gerado automaticamente

`;

let names = document.querySelectorAll(".functionName");
let codes = document.querySelectorAll(".functionBox textarea");

for(let i=0;i<names.length;i++){

let funcName = names[i].value || "funcao" + (i+1);
let internalCode = codes[i].value || `    print("Executando ${funcName}")`;

script += `
function ${funcName}()
${internalCode}
end

`;
}

script += `
-- Executando funções automaticamente
`;

for(let i=0;i<names.length;i++){
let funcName = names[i].value || "funcao" + (i+1);
script += `${funcName}()\n`;
}

document.getElementById("output").value = script;
}

function copyScript(){
let text = document.getElementById("output");
text.select();
document.execCommand("copy");
alert("Copiado!");
}

function downloadScript(){
let text = document.getElementById("output").value;
let blob = new Blob([text], {type: "text/plain"});
let a = document.createElement("a");
a.href = URL.createObjectURL(blob);
a.download = "script.lua";
a.click();
}

</script>

</body>
</html>
